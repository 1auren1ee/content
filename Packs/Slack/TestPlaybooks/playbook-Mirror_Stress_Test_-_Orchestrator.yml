id: Mirror Stress Test - Orchestrator
version: -1
vcShouldKeepItemLegacyProdMachine: false
name: Mirror Stress Test - Orchestrator
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 6a2dc2d1-969e-432d-840f-ac7c7b782777
    type: start
    task:
      id: 6a2dc2d1-969e-432d-840f-ac7c7b782777
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
      - "2"
      - "3"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 930,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: 98886458-8395-48f5-8339-674f060364bf
    type: regular
    task:
      id: 98886458-8395-48f5-8339-674f060364bf
      version: -1
      name: Create Stress Worker 1 Incident
      description: Create a new incident
      script: Builtin|||createNewIncident
      type: regular
      iscommand: true
      brand: Builtin
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      name:
        simple: SlackV3_WorkerOne
      type:
        simple: SlackStress
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1145,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: 3902fe35-18e1-4cce-814d-c6a0b025c56b
    type: regular
    task:
      id: 3902fe35-18e1-4cce-814d-c6a0b025c56b
      version: -1
      name: Create Stress Worker 2 Incident
      description: Create a new incident
      script: Builtin|||createNewIncident
      type: regular
      iscommand: true
      brand: Builtin
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      name:
        simple: SlackV3_WorkerTwo
      type:
        simple: SlackStress
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 715,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: 0f7adbc1-b9d9-4508-8abc-d4a9a56180b6
    type: regular
    task:
      id: 0f7adbc1-b9d9-4508-8abc-d4a9a56180b6
      version: -1
      name: Create Stress Worker 3 Incident
      description: Create a new incident
      script: Builtin|||createNewIncident
      type: regular
      iscommand: true
      brand: Builtin
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      name:
        simple: SlackV3_WorkerThree
      type:
        simple: SlackStress
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: e122c313-7eec-4584-824e-3ce85f9844a0
    type: regular
    task:
      id: e122c313-7eec-4584-824e-3ce85f9844a0
      version: -1
      name: Create Channel Name
      description: |
        Retrieves the current date and time.
      scriptName: GetTime
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "5"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 930,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: b202ddc2-6ad8-4237-87f7-24dbb7b9ed5d
    type: regular
    task:
      id: b202ddc2-6ad8-4237-87f7-24dbb7b9ed5d
      version: -1
      name: mirror-investigation
      description: Mirrors the investigation between Slack and the Demisto War Room.
      script: SlackV3|||mirror-investigation
      type: regular
      iscommand: true
      brand: SlackV3
    nexttasks:
      '#none#':
      - "6"
    scriptarguments:
      channelName:
        complex:
          root: TimeNowUnix
          transformers:
          - operator: Stringify
      using:
        simple: SlackV3_LoadTester
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 930,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: cde7df31-541c-4a88-816d-cb5b8b9bb228
    type: regular
    task:
      id: cde7df31-541c-4a88-816d-cb5b8b9bb228
      version: -1
      name: slack-invite-to-channel
      description: Invites users to join a channel.
      script: SlackV3|||slack-invite-to-channel
      type: regular
      iscommand: true
      brand: SlackV3
    nexttasks:
      '#none#':
      - "8"
      - "7"
      - "9"
    scriptarguments:
      channel:
        complex:
          root: TimeNowUnix
          transformers:
          - operator: Stringify
      users:
        simple: AndrewS
      using:
        simple: SlackV3_LoadTester
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 930,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "7":
    id: "7"
    taskid: 9915f242-ae8d-4cab-889a-f27390cbbb24
    type: regular
    task:
      id: 9915f242-ae8d-4cab-889a-f27390cbbb24
      version: -1
      name: WorkerOne
      scriptName: SlackBurst
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      dos_endurance:
        simple: "true"
      quantity:
        simple: "15"
      slack_channel:
        complex:
          root: TimeNowUnix
          transformers:
          - operator: Stringify
      slack_instance:
        simple: SlackV3_WorkerOne
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 1
    isoversize: false
    isautoswitchedtoquietmode: false
  "8":
    id: "8"
    taskid: b9efd6d5-639f-44fc-8303-9a74281c2abe
    type: regular
    task:
      id: b9efd6d5-639f-44fc-8303-9a74281c2abe
      version: -1
      name: WorkerTwo
      scriptName: SlackBurst
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      dos_endurance:
        simple: "true"
      quantity:
        simple: "15"
      slack_channel:
        complex:
          root: TimeNowUnix
          transformers:
          - operator: Stringify
      slack_instance:
        simple: SlackV3_WorkerTwo
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 715,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 1
    isoversize: false
    isautoswitchedtoquietmode: false
  "9":
    id: "9"
    taskid: 43370567-236a-481b-88a9-2ff57507cd8c
    type: regular
    task:
      id: 43370567-236a-481b-88a9-2ff57507cd8c
      version: -1
      name: WorkerThree
      scriptName: SlackBurst
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      dos_endurance:
        simple: "true"
      quantity:
        simple: "15"
      slack_channel:
        complex:
          root: TimeNowUnix
          transformers:
          - operator: Stringify
      slack_instance:
        simple: SlackV3_WorkerThree
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1145,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 1
    isoversize: false
    isautoswitchedtoquietmode: false
  "10":
    id: "10"
    taskid: 7099eca6-0ebc-4f69-8d27-36d4ad0c12aa
    type: regular
    task:
      id: 7099eca6-0ebc-4f69-8d27-36d4ad0c12aa
      version: -1
      name: Sleep
      description: Sleep for X seconds
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "11"
    scriptarguments:
      seconds:
        simple: "150"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 715,
          "y": 1245
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: aee17c6d-d276-45c0-8e19-63ab68147ec6
    type: regular
    task:
      id: aee17c6d-d276-45c0-8e19-63ab68147ec6
      version: -1
      name: GetCurrentEntries
      scriptName: GetCurrentEntries
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "12"
      - "14"
      - "13"
    scriptarguments:
      incident_id:
        simple: ${incident.id}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 715,
          "y": 1420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "12":
    id: "12"
    taskid: ec985631-8a92-41fa-8b3d-2d093a3cf15d
    type: condition
    task:
      id: ec985631-8a92-41fa-8b3d-2d093a3cf15d
      version: -1
      name: Validate Quantity of Mirror Ins from WorkerOne
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "16"
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: LatestEntries.ThisisaBurstTestfromInstanceSlackV3_WorkerOneFromSlack
            iscontext: true
          right:
            value:
              simple: "15"
    view: |-
      {
        "position": {
          "x": 500,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "13":
    id: "13"
    taskid: 6d4c67b9-d466-4d3a-8078-e867d6288ce8
    type: condition
    task:
      id: 6d4c67b9-d466-4d3a-8078-e867d6288ce8
      version: -1
      name: Validate Quantity of Mirror Ins from WorkerTwo
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "16"
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: LatestEntries.ThisisaBurstTestfromInstanceSlackV3_WorkerTwoFromSlack
            iscontext: true
          right:
            value:
              simple: "15"
    view: |-
      {
        "position": {
          "x": 930,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "14":
    id: "14"
    taskid: ee2f1eb9-d940-4265-862d-6f561c9a82c4
    type: condition
    task:
      id: ee2f1eb9-d940-4265-862d-6f561c9a82c4
      version: -1
      name: Validate Quantity of Mirror Ins from WorkerThree
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "16"
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: LatestEntries.ThisisaBurstTestfromInstanceSlackV3_WorkerThreeFromSlack
            iscontext: true
          right:
            value:
              simple: "15"
    view: |-
      {
        "position": {
          "x": 1360,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "15":
    id: "15"
    taskid: f767e844-c0ba-469c-896d-2dfbc91dfe93
    type: regular
    task:
      id: f767e844-c0ba-469c-896d-2dfbc91dfe93
      version: -1
      name: Successful Validation
      description: Prints text to war room (Markdown supported)
      scriptName: Print
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      value:
        simple: Validation Passed
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 490,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: 3c32bfbb-7510-49e1-823f-fb4b4e380bb9
    type: regular
    task:
      id: 3c32bfbb-7510-49e1-823f-fb4b4e380bb9
      version: -1
      name: Failed Validation
      description: Prints an error entry with a given message
      scriptName: PrintErrorEntry
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      message:
        simple: Failed to Validate Expected Entries
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1370,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: c00bba89-52ff-414f-8efa-b0ba1581cf46
    type: regular
    task:
      id: c00bba89-52ff-414f-8efa-b0ba1581cf46
      version: -1
      name: Get WorkerOne Status
      description: Gets a value from the specified incident's context.
      scriptName: GetByIncidentId
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "20"
    scriptarguments:
      get_key:
        simple: RunStatus
      incident_id:
        simple: ${CreatedIncidentID.[0]}
      set_key:
        simple: WorkerOneStatus
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 60,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: 7170e23f-78ed-4eb7-82a3-4ff9f30e24e3
    type: regular
    task:
      id: 7170e23f-78ed-4eb7-82a3-4ff9f30e24e3
      version: -1
      name: Get WorkerTwo Status
      description: Gets a value from the specified incident's context.
      scriptName: GetByIncidentId
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "21"
    scriptarguments:
      get_key:
        simple: RunStatus
      incident_id:
        simple: ${CreatedIncidentID.[1]}
      set_key:
        simple: WorkerTwoStatus
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 490,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: ee21f949-e954-4079-8b0d-c4f7b037b9a8
    type: regular
    task:
      id: ee21f949-e954-4079-8b0d-c4f7b037b9a8
      version: -1
      name: Get WorkerThree Status
      description: Gets a value from the specified incident's context.
      scriptName: GetByIncidentId
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "22"
    scriptarguments:
      get_key:
        simple: RunStatus
      incident_id:
        simple: ${CreatedIncidentID.[2]}
      set_key:
        simple: WorkerThreeStatus
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 920,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "20":
    id: "20"
    taskid: 434a0654-d110-4b3d-8a51-3ac60c90cdfe
    type: condition
    task:
      id: 434a0654-d110-4b3d-8a51-3ac60c90cdfe
      version: -1
      name: Worker One Passed Validation
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "24"
      "yes":
      - "23"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: WorkerOneStatus
            iscontext: true
          right:
            value:
              simple: completed
    view: |-
      {
        "position": {
          "x": 60,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "21":
    id: "21"
    taskid: 5079b711-d884-4ddf-8c09-5ac97817ed3b
    type: condition
    task:
      id: 5079b711-d884-4ddf-8c09-5ac97817ed3b
      version: -1
      name: Worker Two Passed Validation
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "24"
      "yes":
      - "23"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: WorkerTwoStatus
            iscontext: true
          right:
            value:
              simple: completed
    view: |-
      {
        "position": {
          "x": 490,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: cf509810-60fe-4bec-8ba0-81d33d9bd915
    type: condition
    task:
      id: cf509810-60fe-4bec-8ba0-81d33d9bd915
      version: -1
      name: Worker Three Passed Validation
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "24"
      "yes":
      - "23"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: WorkerThreeStatus
            iscontext: true
          right:
            value:
              simple: completed
    view: |-
      {
        "position": {
          "x": 920,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: 82c7bcaa-270c-47ff-8040-4d5776bb1127
    type: regular
    task:
      id: 82c7bcaa-270c-47ff-8040-4d5776bb1127
      version: -1
      name: Print
      description: Prints text to war room (Markdown supported)
      scriptName: Print
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      value:
        simple: Workers Passed Validation
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 930,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: 89046d69-056f-4be9-8ded-e453d367af04
    type: regular
    task:
      id: 89046d69-056f-4be9-8ded-e453d367af04
      version: -1
      name: Workers Failed Validation
      description: Prints an error entry with a given message
      scriptName: PrintErrorEntry
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      message:
        simple: Workers Failed Validation
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: f0cc6a6e-c155-4009-8bb5-4acf50a9e774
    type: regular
    task:
      id: f0cc6a6e-c155-4009-8bb5-4acf50a9e774
      version: -1
      name: Wait for Workers to Finish
      description: Sleep for X seconds
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "18"
      - "17"
      - "19"
    scriptarguments:
      seconds:
        simple: "120"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 490,
          "y": 1945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: a1b19cf3-307e-40eb-8160-694223ebef93
    type: regular
    task:
      id: a1b19cf3-307e-40eb-8160-694223ebef93
      version: -1
      name: Let Incidents Complete
      description: Sleep for X seconds
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "4"
    scriptarguments:
      seconds:
        simple: "150"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 930,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 2515,
        "width": 1700,
        "x": 50,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
fromversion: 6.1.0
