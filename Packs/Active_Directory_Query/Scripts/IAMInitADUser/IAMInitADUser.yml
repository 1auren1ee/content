args:
- default: false
  defaultValue: GeneratePassword
  description: The password generator script.
  isArray: false
  name: pwdGenerationScript
  required: false
  secret: false
- default: false
  description: The sAMAccountName of the employee.
  isArray: false
  name: sAMAccountName
  required: true
  secret: false
- default: false
  description: The user profile data.
  isArray: false
  name: user_profile
  required: true
  secret: false
- default: false
  description: Whether or not to enable the user.
  isArray: false
  name: enable_user
  required: false
  secret: false
  auto: PREDEFINED
  predefined:
  - "true"
  - "false"
  defaultValue: "true"
- default: false
  description: An HTML template of the manager email body to be sent. Placeholders should be of the form ${USER_FIELD},
    where USER_FIELD is either "sAMAccountName", "password" or any existing User Profile incident field in CLI form, e.g. "displayname".
  isArray: false
  name: manager_email_template_list_name
  required: false
  secret: false
- default: false
  description: A comma-separated list of email addresses that should recieve the notification email.
  isArray: false
  name: notification_email_addresses
  required: true
  secret: false
- default: false
  description: An HTML template of the notification email body to be sent. Placeholders should be of the form ${USER_FIELD},
    where USER_FIELD is either "sAMAccountName", "password" or any existing User Profile incident field in CLI form, e.g. "displayname".
  isArray: false
  name: notification_email_template_list_name
  required: false
  secret: false
- default: false
  description: Whether or not to send emails (used for developing purposes).
  isArray: false
  name: send_email
  required: false
  secret: false
  auto: PREDEFINED
  predefined:
  - "true"
  - "false"
  defaultValue: "true"
comment: |-
  - Generates a password.
  - Sets an Active Directory user account with this password.
  - Enables the account if enable_user argument is set to "true".
  - Sends a notification email to the emails specified in the notification_emails_list.
  - Sends an email to the manager (unless the user is an acquisition hire).
  This script is running `send-mail` command, please make sure there is a matching Integration configurated.
commonfields:
  id: IAMInitADUser
  version: -1
enabled: true
name: IAMInitADUser
outputs:
- contextPath: IAM.Vendor.success
  description: True if the Active Directory user was successfully activated, false
    otherwise.
  type: Boolean
- contextPath: IAM.Vendor.errorMessage
  description: The error details, if exists.
  type: String
- contextPath: IAM.Vendor.brand
  description: Name of the integration used in this script.
  type: String
- contextPath: IAM.Vendor.action
  description: The script name.
  type: String
script: '-'
subtype: python3
system: false
tags:
- IAM
- active directory
- Utility
timeout: '0'
type: python
dockerimage: demisto/python3:3.9.7.24076
runas: DBotWeakRole
runonce: false
tests:
- No tests (auto formatted)
fromversion: 5.0.0
